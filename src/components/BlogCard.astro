---
interface Props {
  title: string;
  excerpt: string;
  date: Date;
  slug: string;
  coverImage?: string;
  tags?: string[];
}

const { title, excerpt, date, slug, coverImage, tags } = Astro.props;

const formattedDate = date.toLocaleDateString('tr-TR', {
  year: 'numeric',
  month: 'long',
  day: 'numeric',
});
---

<article class="group flex flex-col bg-white border border-sage/15 hover:border-sage/40 transition-colors duration-300">
  <!-- Cover image -->
  <a href={`/blog/${slug}`} class="block overflow-hidden aspect-[16/9] bg-sage/10">
    {coverImage ? (
      <img
        src={coverImage}
        alt={title}
        class="w-full h-full object-cover group-hover:scale-105 transition-transform duration-500"
      />
    ) : (
      <div class="w-full h-full flex items-center justify-center">
        <span class="font-serif text-4xl text-sage/30">E</span>
      </div>
    )}
  </a>

  <!-- Content -->
  <div class="flex flex-col flex-1 p-6">
    <!-- Tags -->
    {tags && tags.length > 0 && (
      <div class="flex gap-2 flex-wrap mb-3">
        {tags.map((tag) => (
          <span class="text-xs font-sans uppercase tracking-widest text-gold">
            {tag}
          </span>
        ))}
      </div>
    )}

    <h2 class="font-serif text-lg font-semibold text-forest mb-2 leading-snug group-hover:text-sage transition-colors">
      <a href={`/blog/${slug}`}>{title}</a>
    </h2>

    <p class="font-sans text-sm text-warm/70 leading-relaxed flex-1 mb-4">
      {excerpt}
    </p>

    <div class="flex items-center justify-between mt-auto pt-4 border-t border-sage/10">
      <span class="font-sans text-xs text-warm/50">{formattedDate}</span>
      <a
        href={`/blog/${slug}`}
        class="font-sans text-xs text-sage hover:text-forest transition-colors tracking-wide"
      >
        Devamını oku →
      </a>
    </div>
  </div>
</article>
